{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/helpers.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["export const BASE_URL = 'https://dummyjson.com';\nexport const LIMIT = 12; \n\nexport const ENDPOINTS = {\n  products: '/products',\n  productById: '/products/',\n  productsByCategory: '/products/category/',\n  productsByQuery: '/products/search',\n  categories: '/products/category-list',\n};\n","// API ендпоінти:\n\nimport axios from 'axios';\nimport { BASE_URL, ENDPOINTS, LIMIT } from './constants';\n\n// https://dummyjson.com/docs/products - документація бекенду, розділ продукти\n// https://dummyjson.com/products?limit=10&skip=10 - отримати всі продукти з пагінацією\n// https://dummyjson.com/products/1 - отримати один продукт по ID\n// https://dummyjson.com/products/search?q=nail - пошук продукту по ключовому слову\n// https://dummyjson.com/products/category-list - отримати список категорій продуктів\n// https://dummyjson.com/products/category/smartphones - отримати продукти по категорії\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function fetchCategories() {\n  const { data } = await axios(ENDPOINTS.categories);\n  return data;\n}\n\nexport async function fetchAllProducts(page = 1) {\n  //const { data } = await axios.get(`${ENDPOINTS.products}?limit=${LIMIT}&skip=${(page - 1) * LIMIT}`)\n  const { data } = await axios.get(ENDPOINTS.products, {\n    params: {\n      limit: LIMIT,\n      skip: (page - 1) * LIMIT\n    }\n  })\n  return data;\n}\n\nexport async function fetchProductsByCategory(category) {\n  const { data } = await axios.get(`${ENDPOINTS.productsByCategory}${category}`);\n  return data;\n}","export const refs = {\n  categories: document.querySelector('.categories'),\n  productsList: document.querySelector('.products'),\n  notFound: document.querySelector('.not-found')\n};\n","import { refs } from './refs';\n\nexport function renderCategories(arr) {\n  const markup = arr\n    .map(\n      item => `\n      <li class=\"categories__item\">\n        <button class=\"categories__btn\" type=\"button\">${item}</button>\n    </li>`\n    )\n    .join('');\n\n  refs.categories.innerHTML = markup;\n}\n\nexport function renderProducts(arr) {\n  const markup = arr.map(p => `<li class=\"products__item\" data-id=\"${p.id}\">\n    <img class=\"products__image\" src=\"${p.thumbnail}\" alt=\"${p.title}\"/>\n    <p class=\"products__title\">${p.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span>${p.brand}</p>\n    <p class=\"products__category\">Category: ${p.category}</p>\n    <p class=\"products__price\">Price: ${p.price}$</p>\n </li>`)\n    .join(\"\");\n  refs.productsList.insertAdjacentHTML(\"beforeend\", markup);\n}\n\nexport function clearProducts() {\n  refs.productsList.innerHTML = \"\";\n}\n","export function activeFirstBtn() {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n  }\n}\nexport function activBtn(btn) { \n   const btns = document.querySelectorAll('.categories__btn--active');\n  btns.forEach(btn => btn.classList.remove('categories__btn--active'));\n  btn.classList.add('categories__btn--active');\n}","import iziToast from 'izitoast';\nimport { fetchAllProducts, fetchCategories, fetchProductsByCategory } from './products-api';\nimport { clearProducts, renderCategories, renderProducts } from './render-function';\nimport { activBtn, activeFirstBtn } from './helpers';\nimport { refs } from './refs';\n\nexport async function getCategories() {\n  try {\n    const categories = await fetchCategories();\n    renderCategories(['all', ...categories]);\n    activeFirstBtn();\n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      message: 'something went wrong',\n    });\n  }\n}\n\nexport async function getAllProducts() {\n  try {\n    const { products } = await fetchAllProducts();\n    \n    renderProducts(products);\n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      message: 'something went wrong',\n    });\n  }\n}\n\nexport async function getProductsByCategory(event) {\n  if (!event.target.classList.contains(\"categories__btn\")) return;\n  const nameCat = event.target.textContent;\n  activBtn(event.target);\n  try { \n    let currentProducts = null;\n    if (nameCat === 'all') {\n      const { products } = await fetchAllProducts();\n      currentProducts = products;\n    } else {\n      const { products } = await fetchProductsByCategory(nameCat);\n      currentProducts = products;\n    }\n    if (currentProducts.length === 0) { \n      refs.notFound.classList.add('not-found--visible');\n    } else {\n      refs.notFound.classList.remove('not-found--visible');\n    }\n      clearProducts();\n      renderProducts(currentProducts); \n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      message: 'something went wrong',\n    })\n  \n  }\n}\n\n\n","//Логіка сторінки Home\n\nimport { getAllProducts, getCategories, getProductsByCategory } from './js/handlers';\nimport { refs } from './js/refs';\n\ngetCategories();\ngetAllProducts();\n\nrefs.categories.addEventListener(\"click\", getProductsByCategory)"],"names":["BASE_URL","LIMIT","ENDPOINTS","axios","fetchCategories","data","fetchAllProducts","page","fetchProductsByCategory","category","refs","renderCategories","arr","markup","item","renderProducts","p","clearProducts","activeFirstBtn","firstBtn","activBtn","btn","getCategories","categories","error","iziToast","getAllProducts","products","getProductsByCategory","event","nameCat","currentProducts"],"mappings":"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"}